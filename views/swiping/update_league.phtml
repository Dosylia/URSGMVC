<div class="form_container"> 
    <button id="closeButton" type="button">X</button>
    <form class="form_signup" method="post" action="/updateLeague">

        <?php if (isset($_GET['error'])) : ?>
        <p class="errorsForm"><?= $_GET['error'] ?></p>
        <?php endif; ?>

    <div id="champion-picker">
        <div class="champions-picker-column">
            <img src="public/images/champions/<?= $lolMain1 ?>.png" alt="<?= $lolMain1 ?>" class="champion-picker-img picker-main1">
            <p id="main1-name"><?= $lolMain1 ?></p>
        </div>
        <div class="champions-picker-column">
            <img src="public/images/champions/<?= $lolMain2 ?>.png" alt="<?= $lolMain2 ?>" class="champion-picker-img picker-main2">
            <p id="main2-name"><?= $lolMain2 ?></p>
        </div>
        <div class="champions-picker-column">
            <img src="public/images/champions/<?= $lolMain3 ?>.png" alt="<?= $lolMain3 ?>" class="champion-picker-img picker-main3">
            <p id="main3-name"><?= $lolMain3 ?></p>
        </div>
        <div class="champions-picker-column">
            <button id="skipSelection-btn">Skip</button>
        </div>
        <input type="hidden" id="main1" name="main1" value="<?= $lolUser['lol_main1'] ?>" class="notranslate champion-picker-input">
        <input type="hidden" id="main2" name="main2" value="<?= $lolUser['lol_main2'] ?>" class="notranslate champion-picker-input">
        <input type="hidden" id="main3" name="main3" value="<?= $lolUser['lol_main3'] ?>" class="notranslate champion-picker-input">
        <input type="hidden" id="skipSelection" name="skipSelection" value="<?= $lolUser['lol_noChamp'] ?>">
    </div>

    <!-- Champion Selection Modals -->
    <div id="modal-main1" class="champion-modal">
        <div class="modal-content">
            <button type="button" class="close-btn" onclick="closeModal('modal-main1')">✖</button>
            <input type="text" placeholder="Search champion..." class="champion-search" onkeyup="filterChampions(this, 'champion-list-main1')">
            <div id="champion-list-main1" class="champion-list"></div>
        </div>
    </div>

    <div id="modal-main2" class="champion-modal">
        <div class="modal-content">
            <button type="button" class="close-btn" onclick="closeModal('modal-main2')">✖</button>
            <input type="text" placeholder="Search champion..." class="champion-search" onkeyup="filterChampions(this, 'champion-list-main2')">
            <div id="champion-list-main2" class="champion-list"></div>
        </div>
    </div>

    <div id="modal-main3" class="champion-modal">
        <div class="modal-content">
            <button type="button" class="close-btn" onclick="closeModal('modal-main3')">✖</button>
            <input type="text" placeholder="Search champion..." class="champion-search" onkeyup="filterChampions(this, 'champion-list-main3')">
            <div id="champion-list-main3" class="champion-list"></div>
        </div>
    </div>

    <script src="public/js/champions-picker.js"></script>

            <label for="rank_lol">Your rank</label>
            <select id="rank_lol" name="rank_lol">
                <option value="<?= $lolUser['lol_rank'] ?>" data-image="public/images/ranks/<?= $lolUser['lol_rank'] ?>.png"><?= $lolUser['lol_rank'] ?></option>
                <?php foreach ($lol_ranks as $rank) : ?>
                    <?php if ($rank !== $lolUser['lol_rank']) : ?>
                        <option value="<?= $rank ?>" data-image="public/images/ranks/<?= $rank ?>.png"><?= $rank ?></option>
                    <?php endif; ?>
                <?php endforeach; ?>
            </select>

            <div id="selected-ranks-lol"></div>

            <script src="public/js/ranks.js"></script>

            <label for="role_lol">Your role</label>
            <select id="role_lol" name="role_lol">
                <option value="<?= $lolUser['lol_role'] ?>" data-image="public/images/roles/<?= strtolower(str_replace(' ', '', $lolUser['lol_role'])) ?>.png"><?= $lolUser['lol_role'] ?></option>
                <?php foreach ($lol_roles as $role) : ?>
                    <?php if ($role !== $lolUser['lol_role']) : ?>
                        <option value="<?= $role ?>" data-image="public/images/roles/<?= strtolower(str_replace(' ', '', $role)) ?>.png"><?= $role ?></option>
                    <?php endif; ?>
                <?php endforeach; ?>
            </select>

            <div id="selected-roles"></div>

            <script src="public/js/roles.js"></script>

            <label for="server">Select your server</label>
            <select id="server" name="server">
                <option value="<?= $lolUser['lol_server'] ?>"><?= $lol_servers[$lolUser['lol_server']] ?? $lolUser['lol_server'] ?></option>
                <?php foreach ($lol_servers as $server_key => $server_name) : ?>
                    <?php if ($server_key !== $lolUser['lol_server']) : ?>
                        <option value="<?= $server_key ?>"><?= $server_name ?></option>
                    <?php endif; ?>
                <?php endforeach; ?>
            </select>

        <?php if($this->isConnectWebsite()) : ?>
            <input type="hidden" name="userId" value="<?= $_SESSION['userId'] ?>">  
        <?php endif ; ?>

        <input name="submit" id="send-button" type="submit" value="Send">
    </form>
    <img class="picture_with_form" src="public/images/Ahri.png" alt="Ahri from League of legends">
</div>

<script type="module" src="public/js/swiping/closebutton.js"></script>